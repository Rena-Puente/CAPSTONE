<section class="company-profile">
  <div *ngIf="loading()" class="company-profile__alert company-profile__alert--info" role="status">
    Cargando perfil de la empresa...
  </div>

  <div *ngIf="error()" class="company-profile__alert company-profile__alert--error" role="alert">
    {{ error() }}
  </div>

  <ng-container *ngIf="profile() as company">
    <header class="company-profile__header">
      <h2 class="company-profile__name">{{ company.name }}</h2>
      <p class="company-profile__meta" *ngIf="company.city || company.country">
        {{ company.city || 'Ubicación desconocida' }}, {{ company.country || '—' }}
      </p>
    </header>

    <dl class="company-profile__details">
      <div class="company-profile__detail">
        <dt>Correo de contacto</dt>
        <dd>{{ company.email || '—' }}</dd>
      </div>

      <div class="company-profile__detail">
        <dt>Sitio web</dt>
        <dd>
          <a
            *ngIf="company.website; else noWebsite"
            [href]="company.website"
            target="_blank"
            rel="noopener noreferrer"
            class="company-profile__link"
          >
            {{ company.website }}
          </a>
          <ng-template #noWebsite>—</ng-template>
        </dd>
      </div>

      <div class="company-profile__detail">
        <dt>RUT</dt>
        <dd>{{ company.rut || '—' }}</dd>
      </div>

      <div class="company-profile__detail">
        <dt>Fecha de registro</dt>
        <dd>{{ company.createdAt ? (company.createdAt | date: 'medium') : '—' }}</dd>
      </div>

      <div class="company-profile__detail">
        <dt>Última actualización</dt>
        <dd>{{ company.updatedAt ? (company.updatedAt | date: 'medium') : '—' }}</dd>
      </div>
    </dl>
  </ng-container>
</section>
